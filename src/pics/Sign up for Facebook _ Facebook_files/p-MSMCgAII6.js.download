;/*FB_PKG_DELIM*/

__d("Recaptcha",["fbt","AsyncRequest","Bootloader","CSS","CaptchaClientConfig","CurrentLocale","DOM","Event","Keys","ThisControllerNoLongerExists","ge"],(function(a,b,c,d,e,f,g){var h,i={tabindex:0,callback:null},j={en_US:"en",en_GB:"en",en_PI:"en",nl_NL:"nl",nl_BE:"nl",fr_FR:"fr",fr_CA:"fr",de_DE:"de",es_LA:"es",es_ES:"es",es_CL:"es",es_CO:"es",es_MX:"es",es_VE:"es",ru_RU:"ru",tr_TR:"tr"},k=!1,l={widget:null,timer_id:-1,fail_timer_id:-1,type:"image",ajax_verify_cb:null,audio_only:!1,$:function(a){if(typeof a==="string")return document.getElementById(a);else return a},setFocusOnLoad:function(a){k=a},create:function(a,c){l.destroy(),a&&(l.widget=l.$(a)),l._init_options(c),l._call_challenge(b("CaptchaClientConfig").recaptchaPublicKey)},destroy:function(){var a=l.$("recaptcha_challenge_field");a&&a.parentNode.removeChild(a);l.timer_id!=-1&&clearInterval(l.timer_id);l.timer_id=-1;a=l.$("recaptcha_image");a&&(a.innerHTML="");l.widget&&(l.widget.style.display="none",l.widget=null)},focus_response_field:function(){var a=l.$;a=a("captcha_response");try{a.focus()}catch(a){}},get_challenge:function(){return typeof a.RecaptchaState==="undefined"?null:a.RecaptchaState.challenge},get_response:function(){var a=l.$;a=a("captcha_response");return!a?null:a.value},ajax_verify:function(a){l.ajax_verify_cb=a;a=l._get_api_server()+"/ajaxverify?c="+encodeURIComponent(l.get_challenge())+"&response="+encodeURIComponent(l.get_response());l._add_script(a)},_ajax_verify_callback:function(a){l.ajax_verify_cb(a)},_get_api_server:function(){var b=window.location.protocol,c;typeof a._RecaptchaOverrideApiServer!=="undefined"?c=a._RecaptchaOverrideApiServer:c="www.google.com";return b+"//"+c},_call_challenge:function(a){l.audio_only||(l.fail_timer_id=setTimeout(function(){l.fail_timer_id==-1&&l.logAction("timeout"),l.createCaptcha()},15e3));a=l._get_api_server()+"/recaptcha/api/challenge?k="+a+"&ajax=1&xcachestop="+Math.random();b("ge")("extra_challenge_params")!=null&&(a+="&"+b("ge")("extra_challenge_params").value);l._add_script(a)},_add_script:function(a){b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN(a)},_init_options:function(a){var b=i;a=a||{};for(var c in a)b[c]=a[c];h=b},challenge_callback:function(){l.audio_only||(clearTimeout(l.fail_timer_id),l._reset_timer());window.addEventListener&&window.addEventListener("unload",function(a){l.destroy()},!1);l._is_ie()&&window.attachEvent&&window.attachEvent("onbeforeunload",function(){});if(navigator.userAgent.indexOf("KHTML")>0){var a=document.createElement("iframe");a.src="about:blank";a.style.height="0px";a.style.width="0px";a.style.visibility="hidden";a.style.border="none";var b=document.createTextNode("This frame prevents back/forward cache problems in Safari.");a.appendChild(b);document.body.appendChild(a)}l._finish_widget();l.audio_only&&l.switch_type("audio");l.logAction("shown")},_finish_widget:function(){var b=l.$,c=a.RecaptchaState,d=h,e=document.createElement("input");e.type="password";e.setAttribute("autocomplete","off");e.style.display="none";e.name="recaptcha_challenge_field";e.id="recaptcha_challenge_field";b("captcha_response").parentNode.insertBefore(e,b("captcha_response"));b("captcha_response").setAttribute("autocomplete","off");b("recaptcha_image").style.width="300px";b("recaptcha_image").style.height="57px";l.should_focus=!1;!l.audio_only?l._set_challenge(c.challenge,"image"):l._set_challenge(c.challenge,"audio");d.tabindex&&(b("captcha_response").tabIndex=d.tabindex);l.widget&&(l.widget.style.display="");d.callback&&d.callback();b("recaptcha_loading").style.display="none"},switch_type:function(a){var b=l;b.type=a;b.$("recaptcha_type").value=a;b.reload(b.type=="audio"?"a":"v")},reload:function(c){var d=l;d.$;var e=a.RecaptchaState;typeof c==="undefined"&&(c="r");e=e.server+"reload?c="+e.challenge+"&k="+e.site+"&reason="+c+"&type="+d.type+"&lang="+l.getLang();b("ge")("extra_challenge_params")!=null&&(e+="&"+b("ge")("extra_challenge_params").value);d.should_focus=c!="t";d._add_script(e)},finish_reload:function(b,c){a.RecaptchaState.is_incorrect=!1,l._set_challenge(b,c)},_set_challenge:function(c,d){var e=l,f=a.RecaptchaState,h=e.$;f.challenge=c;e.type=d;h("recaptcha_challenge_field").value=f.challenge;h("recaptcha_challenge_field").defaultValue=f.challenge;h("recaptcha_image").innerHtml="";if(d=="audio")b("DOM").setContent(document.getElementById("recaptcha_image"),l.setAudioCaptchaControls()),b("DOM").setAttributes(document.getElementById("captcha_response"),{"aria-label":g._("Audio Captcha input. Press the \"Play Audio Captcha\" button above to start the audio. Enter the numbers you hear into this input box, then submit the form to proceed.")});else if(d=="image"){c=f.server+"image?c="+f.challenge;h("recaptcha_image").innerHTML="<img style='display:block;' height='57' width='300' src='"+c+"'/>";b("DOM").setAttributes(document.getElementById("captcha_response"),{"aria-label":g._("Captcha input. Type the words listed above to continue. Additionally you may also try the audio captcha by clicking the link above.")})}l._css_toggle("recaptcha_had_incorrect_sol","recaptcha_nothad_incorrect_sol",f.is_incorrect);l._css_toggle("recaptcha_is_showing_audio","recaptcha_isnot_showing_audio",d=="audio");e.should_focus&&e.focus_response_field();e._reset_timer()},_reset_timer:function(){var b=a.RecaptchaState;clearInterval(l.timer_id);l.timer_id=setInterval(function(){return l.reload("t")},(b.timeout-60*5)*1e3)},_clear_input:function(){var a=l.$("captcha_response");a.value=""},_displayerror:function(a){var c=l.$;b("DOM").empty("recaptcha_image");c("recaptcha_image").appendChild(document.createTextNode(a))},reloaderror:function(a){l._displayerror(a)},_is_ie:function(){return navigator.userAgent.indexOf("MSIE")>0&&!window.opera},_css_toggle:function(a,c,d){var e=l.widget;e||(e=document.body);var f=e.className;f=f.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ");f=f.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ");f+=" "+(d?a:c);b("CSS").setClass(e,f)},handlePlayPress:function(a){var c=b("Event").getKeyCode(a);(c===b("Keys").RETURN||c===b("Keys").SPACE)&&(b("Event").prevent(a),this.playAgain())},handlePlayClick:function(a){b("Event").prevent(a),this.playAgain()},playAgain:function(){b("DOM").setContent(document.getElementById("recaptcha_audio_container"),l.getAudioCaptchaHtml())},setAudioCaptchaControls:function(){var c=a.RecaptchaState;c=c.server+"image?c="+c.challenge;c.indexOf("https://")==0&&(c="http://"+c.substring(8));var d=b("DOM").create("div"),e=b("DOM").create("a",{href:"#","class":"recaptcha_audio_cant_hear_link recaptcha_text",role:"button",tabindex:"0",onclick:this.handlePlayClick.bind(this),onkeyup:this.handlePlayPress.bind(this)},g._("Play Audio Captcha"));c=b("DOM").create("a",{"class":"recaptcha_audio_cant_hear_link recaptcha_text",target:"_blank",href:c},g._("Open the audio file in a new window"));var f=b("DOM").create("div",{id:"recaptcha_audio_container"});b("DOM").appendContent(d,c);l.checkFlashVer()&&b("DOM").appendContent(d,e);b("DOM").appendContent(d,f);return d},getAudioCaptchaHtml:function(){var c=l,d=a.RecaptchaState,e=d.server+"image?c="+d.challenge;e.indexOf("https://")==0&&(e="http://"+e.substring(8));e=d.server+"/img/audiocaptcha.swf?v2";if(c._is_ie()){d=b("DOM").create("object",{classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",id:"audiocaptcha",width:"0",height:"0",codebase:"https://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"});c=[{name:"movie",value:e},{name:"quality",value:"high"},{name:"bgcolor",value:"869ca7"},{name:"allowScriptAccess",value:"always"}];c.forEach(function(a){b("DOM").appendContent(b("DOM").create("param",a))})}else d=b("DOM").create("embed",{src:e,url:e,quality:"high",bgcolor:"#869ca7",width:"0",height:"0",name:"audiocaptcha",align:"middle",play:"true",loop:"false",allowScriptAccess:"always",type:"application/x-shockwave-flash",pluginspage:"http://get.adobe.com/flashplayer"});return d},gethttpwavurl:function(){var b=a.RecaptchaState;if(l.type=="audio"){b=b.server+"image?c="+b.challenge;b.indexOf("https://")==0&&(b="http://"+b.substring(8));return b}return""},checkFlashVer:function(){var a=navigator.appVersion.indexOf("MSIE")!=-1?!0:!1,b=navigator.appVersion.toLowerCase().indexOf("win")!=-1?!0:!1,c=navigator.userAgent.indexOf("Opera")!=-1?!0:!1,d=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var e=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";e=navigator.plugins["Shockwave Flash"+e].description;e=e.split(" ");e=e[2].split(".");d=e[0]}}else if(a&&b&&!c)try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");a=e.GetVariable("$version");d=a.split(" ")[1].split(",")[0]}catch(a){}return d>=9},getLang:function(){return j[b("CurrentLocale").get()]||"en"},createCaptcha:function(){var a={};k&&(a.callback=l.focus_response_field);setTimeout(function(){return l.create("captcha",a)},0)},createAudioCaptcha:function(){setTimeout(function(){l._init_options({}),l.audio_only=!0,l._call_challenge(b("CaptchaClientConfig").recaptchaPublicKey)},0)},logAction:function(a){new(b("AsyncRequest"))().setURI(b("ThisControllerNoLongerExists").__DEADURI__("pikoh0zzl")).setData({action:a,ua:navigator.userAgent,location:window.location.href}).setMethod("POST").setReadOnly(!0).send()}};e.exports=l;a.Recaptcha=l}),null);
__d("DomainDropdownTheme",["cx"],(function(a,b,c,d,e,f,g,h){a="_4f2w";g.className=a}),98);
__d("DomainSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$DomainSearchSource$p_1=b;return c}var d=b.prototype;d.searchImpl=function(a,b,d){var e=[];d=a.toLowerCase();d=d.split("@");var f=d[0],g=d[1];if(g!=null&&f!==""){var h=0;this.$DomainSearchSource$p_1.forEach(function(a){if(a.startsWith(g)){a=f+"@"+a;e.push(new(c("SearchableEntry"))({order:h++,subtitle:a,title:a,uniqueID:a}))}})}b(e,a)};return b}(c("AbstractSearchSource"));g["default"]=a}),98);
__d("PasswordMeterFieldValidator",["cx","$InternalEnum","CSS","DOM","Event","PasswordStrengthAnalyzer","Promise","RegistrationClientConfig","RegistrationFieldValidator","ge"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("$InternalEnum").Mirrored(["EMPTY","TOO_SHORT","TOO_WEAK","STRONG"]);function k(){return new(i||(i=b("Promise")))(function(a){a()})}a=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f,g,h,l,m,n,o,p){var q;q=a.call(this,e,f,g,h,l,m)||this;q.$PasswordMeterFieldValidator$p_2=function(){q.currentPasswordStrength=q.$PasswordMeterFieldValidator$p_3(q.field.value),q.$PasswordMeterFieldValidator$p_4(q.currentPasswordStrength)};q.$PasswordMeterFieldValidator$p_1=function(){if(q.validationType!=="password_meter")return;if(!q.isValid){var a=q.$PasswordMeterFieldValidator$p_7(q.currentPasswordStrength);if(a!==null){c("DOM").setContent(q.meterWrapper,a);return}}q.$PasswordMeterFieldValidator$p_6()};q.isStrongPassword=function(a){return new(i||(i=b("Promise")))(function(b,c){!a.value||q.$PasswordMeterFieldValidator$p_3(a.value)!==j.STRONG?c():b()})};q.meterWrapper=c("ge")(n);q.currentPasswordStrength=j.EMPTY;q.minPasswordStrength=o!=null?o:d("PasswordStrengthAnalyzer").minMeterStrength;q.isEnabled=!1;p===!0?q.addValidationStep(d("RegistrationClientConfig").logging.types.PASSWORD_WEAK,d("RegistrationClientConfig").messages.PASSWORD_BLANK,k):q.enableValidator();return q}var f=e.prototype;f.enableValidator=function(){if(this.isEnabled)return;this.isEnabled=!0;this.addListener("validated",this.$PasswordMeterFieldValidator$p_1,this);this.addValidationStep(d("RegistrationClientConfig").logging.types.PASSWORD_WEAK,d("RegistrationClientConfig").messages.PASSWORD_BLANK,this.isStrongPassword);c("Event").listen(this.field,"input",this.$PasswordMeterFieldValidator$p_2)};f.$PasswordMeterFieldValidator$p_4=function(a){c("DOM").setContent(this.meterWrapper,this.$PasswordMeterFieldValidator$p_5(a)),d("CSS").conditionClass(this.wrapper,"_2acm",a!==j.STRONG)};f.$PasswordMeterFieldValidator$p_6=function(){c("DOM").setContent(this.meterWrapper,null),d("CSS").removeClass(this.wrapper,"_2acm")};f.maybeShowFlyout=function(){this.validationType!=="password_meter"&&a.prototype.maybeShowFlyout.call(this)};f.dismissFlyout=function(){this.validationType!=="password_meter"&&a.prototype.dismissFlyout.call(this)};f.$PasswordMeterFieldValidator$p_3=function(a){if(a==="")return j.EMPTY;if(a.length<6)return j.TOO_SHORT;a=d("PasswordStrengthAnalyzer").score(a,!1);return a<this.minPasswordStrength?j.TOO_WEAK:j.STRONG};f.$PasswordMeterFieldValidator$p_5=function(a){switch(a){case j.EMPTY:case j.TOO_SHORT:return d("RegistrationClientConfig").password_meter.TOO_SHORT;case j.STRONG:return d("RegistrationClientConfig").password_meter.STRONG;default:return d("RegistrationClientConfig").password_meter.TOO_WEAK}};f.$PasswordMeterFieldValidator$p_7=function(a){switch(a){case j.EMPTY:return d("RegistrationClientConfig").password_inline_error.EMPTY;case j.TOO_SHORT:return d("RegistrationClientConfig").password_inline_error.TOO_SHORT;case j.TOO_WEAK:return d("RegistrationClientConfig").password_inline_error.TOO_WEAK;default:return null}};return e}(c("RegistrationFieldValidator"));g.PasswordScore=j;g.PasswordMeterFieldValidator=a}),98);
__d("XRegistrationFormLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/reg/log/",{action:{type:"String"},reg_instance:{type:"String"},category:{type:"Enum",enumType:1},type:{type:"Enum",enumType:1},field:{type:"Enum",enumType:1},cp:{type:"String"},ri:{type:"String"},app_id:{type:"Int"}})}),null);
__d("RegistrationLogger",["AsyncSignal","FBLogger","RegistrationClientConfig","XRegistrationFormLoggingController"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){if(!c("RegistrationClientConfig").logging.enabled)return;b=c("XRegistrationFormLoggingController").getURIBuilder().setEnum("category",c("RegistrationClientConfig").logging.categories.INLINE).setEnum("type",b).setEnum("field",a).setString("reg_instance",d).setString("ri",e).getURI();new(c("AsyncSignal"))(b.toString(),{}).setHandler(h).send()}function b(a,b,d,e){a=c("XRegistrationFormLoggingController").getURIBuilder().setString("action",a).setString("ri",d).setString("reg_instance",b);d=e&&e.get("cp");d!=null&&a.setString("cp",d);new(c("AsyncSignal"))(a.getURI().toString(),{}).setHandler(h).send()}function h(a){a||c("FBLogger")("registration").warn("Registration logging request failed")}g.bumpInlineValidation=a;g.logFormFocus=b;g.handleResponse=h}),98);
__d("StepResult",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NOT_STARTED:0,SUCCESS:1,FAILED:2,SKIPPED:3});c=a;f["default"]=c}),66);
__d("RegistrationValidatorsResult",["RegistrationClientConfig","StepResult"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.isPasswordValid=!1,this.isEmailValid=!1,this.isEmailConfirmationValid=!1,this.isBirthdayValid=!1,this.firstInvalidValidator=null}var b=a.prototype;b.addValidation=function(a){if(a.getFieldName()===d("RegistrationClientConfig").fields.PASSWORD&&a.fieldIsValid())this.isPasswordValid=!0;else if(a.getFieldName()===d("RegistrationClientConfig").fields.EMAIL&&a.fieldIsValid())this.isEmailValid=!0;else if(a.getFieldName()===d("RegistrationClientConfig").fields.EMAIL_CONFIRMATION){var b=a.stepLoggingTypes.indexOf(d("RegistrationClientConfig").logging.types.CONTACTPOINT_INVALID);b!=-1&&a.stepResults[b]===c("StepResult").SUCCESS&&(this.isEmailConfirmationValid=!0)}else a.getFieldName()===d("RegistrationClientConfig").fields.BIRTHDAY_WRAPPER&&a.fieldIsValid()&&(this.isBirthdayValid=!0);!this.hasInvalidValidator()&&!a.fieldIsValid()&&(this.firstInvalidValidator=a)};b.hasInvalidValidator=function(){return this.firstInvalidValidator!==null};b.getFirstInvalidValidator=function(){return this.firstInvalidValidator};b.isEmailFieldValid=function(){return this.isEmailValid};b.isEmailConfirmationFieldValid=function(){return this.isEmailConfirmationValid};b.isPasswordFieldValid=function(){return this.isPasswordValid};b.isBirthdayFieldValid=function(){return this.isBirthdayValid};return a}();g["default"]=a}),98);
__d("XRecoverInitiateAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/recover/initiate/",{c:{type:"String"},reg_instance:{type:"String"},sbc:{type:"Bool",defaultValue:!1},fl:{type:"String"},email:{type:"String"},ctx:{type:"String"},r:{type:"String"},ldata:{type:"String"},cid:{type:"Int"},btp:{type:"String"},device_id:{type:"String"},cuid:{type:"String"},recover_method:{type:"String"},sr:{type:"Bool",defaultValue:!1},rpm:{type:"String"},search_query:{type:"String"},multiple_results:{type:"Bool",defaultValue:!1},ars:{type:"String"},s:{type:"Int"},social_plugin:{type:"String"},cl:{type:"Bool",defaultValue:!1},wsr:{type:"Bool",defaultValue:!1},ref:{type:"String"},reg_info:{type:"String"},ipw:{type:"Bool",defaultValue:!1},selected_cuid:{type:"String"},redirect_to_full_page_on_captcha:{type:"Bool",defaultValue:!1},openid_provider_name:{type:"String"},cpp:{type:"String"},openid_provider_id:{type:"String"},lc_cuid:{type:"String"},lcid:{type:"FBID"},lara:{type:"Bool",defaultValue:!1}})}),null);
__d("XRegistrationAttemptLoginController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/registration/maybelogin/",{reg_email__:{type:"String"},reg_email_confirmation__:{type:"String"},reg_passwd__:{type:"String"}})}),null);
__d("RegistrationController",["cx","fbt","invariant","$","Animation","AsyncRequest","CSS","DOM","DataStore","DeferredCookie","DomainDropdownTheme","DomainSearchSource","Event","FBBrowserPasswordEncryption","Focus","Form","GrowthSUMAEventsTypedLogger","HTML","Keys","LoginServicePasswordEncryptDecryptEventTypedLogger","Menu","MenuItem","PasswordMeterFieldValidator","Popover","PopoverMenu","Promise","Recaptcha","RegistrationClientConfig","RegistrationLogger","RegistrationValidatorsResult","StickyPlaceholderInput","Style","XRecoverInitiateAsyncController","XRegistrationAttemptLoginController","debounceCore","formatDate","ge","getActiveElement","gkx","goURI","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j,k="ns",l={confirmContactpointShown:null,inAgeFlow:null,hasClickedSubmit:null,init:function(a){l.captchaPaneShown=!1,l.errorField=null,l.hasLoggedFocus=!1,l.focusListeners=[],l.regForm=a.regForm,l.logFocusName=a.log_focus_name,l.responseCallback=l.handleResponse,l.tosContainerNode=a.tos_container,l.regPagesMsgNode=a.pages_link,l.captchaButtonsNode=a.captcha_buttons,l.regButton=a.regButton,l.captchaRegButton=a.captchaRegButton,l.asyncStatus=a.async_status,l.captchaAsyncStatus=a.captcha_async_status,l.confirmComponent=a.confirm_component,l.emailComponent=a.email_component,l.passwordComponent=a.password_component,l.pubKey=a.pubKey,l.topEmailDomains=a.topEmailDomains,l.noReEnterOnSuggestion=a.noReEnterOnSuggestion,a.persistURI!=null&&(l.persistURI=a.persistURI,l.debouncedSaveRegState=b("debounceCore")(l.saveRegState,1e3,l)),l.submitFormURI="/ajax/register.php",l.errorMessageNewDesign=a.errorMessageNewDesign,l.showTooltips=a.show_tooltips,l.confirmContactpointBehavior=a.confirmContactpointBehavior,l.confirmContactpointShown=b("CSS").shown(l.confirmComponent),l.shouldShowConfirmationDialog=!0,l.birthdayConfirmationDialog=a.birthdayConfirmationDialog,l.inAgeFlow=!1,l.shouldShowAgeConfirmationDialog=!0,l.ageConfirmationDialog=a.ageConfirmationDialog,l.birthdayErrorCount=0,l.ageToBirthdayLink=b("DOM").scry(l.regForm,"a").filter(function(a){return a.id==="age_to_birthday_link"})[0],l.prefilledBirthday=a.prefilledBirthday,l.blockSubmitForm=!1,l.hideReEnterOnEmail=a.hideReEnterOnEmail,l.inReEnterExperiment=a.inReEnterExperiment,l.initListeners(a.regButton,a.captchaRegButton,a.captchaBackButton,a.no_phone_reg_link,a.password_component),b("gkx")("1867")?l.childValidators=[]:l.childValidators=l.childValidators||[],l.shownFlyout=l.shownFlyout||null,l.noPhoneRegLink=a.no_phone_reg_link,l.allowEmailRegDialog=a.allow_email_reg_dialog,l.hasClickedSubmit=!1,window.location.href.contains("ty=tytrue")&&l.fadeInSoftblockError(),a.payload!=null&&l._handlePayload(a.payload)},initListeners:function(a,c,d,e,f){l.focusListeners=[(f=b("Event")).listen(l.regForm,"click",l.logFormFocus.bind(l)),f.listen(l.regForm,"keypress",l.logFormFocus.bind(l))];f.listen(a,"click",l.didAttemptFormSubmit.bind(l));f.listen(c,"click",l.didAttemptFormSubmit.bind(l));f.listen(d,"click",function(){l.hideCaptcha(),l.showRegistrationPane()});l.ageToBirthdayLink!==void 0&&b("Event").listen(l.ageToBirthdayLink,"click",l._toggleAgeOnly.bind(l));a=l.getField("sex");c=Array.from(a);for(f=0;f<c.length;f++){d=c[f];b("Event").listen(d,"click",l.toggleCustomGender.bind(l))}e!==null&&b("Event").listen(e,"click",l.showCanUseEmail.bind(l));if(l.showTooltips){a=Object.keys(b("RegistrationClientConfig").tooltips);a.forEach(function(a){var c=l.getField(b("RegistrationClientConfig").fields[a]);c&&(c.addEventListener("focus",function(){return l.fieldFocusListener(a)}),c.addEventListener("blur",function(){return l.fieldBlurListener(a)}))})}d=l.getField(b("RegistrationClientConfig").fields.EMAIL);if(l.confirmContactpointBehavior!=="hide"){c=l._getConfirmFieldTypeChangeListener();b("Event").listen(d,"change",c);b("Event").listen(d,"keyup",c)}if(l.topEmailDomains&&l.topEmailDomains.length>0){f=l._getTopEmailsSuggestListener(d,l.topEmailDomains);b("Event").listen(d,"keyup",f);b("Event").listen(d,"click",f)}l.birthdayConfirmationDialog.subscribe("confirm",function(){l.shouldShowConfirmationDialog=!1,l.birthdayConfirmationDialog.hide(),l._logAction("birthday_dialog_confirm"),l.submitForm()});l.birthdayConfirmationDialog.subscribe("cancel",function(){l._logAction("birthday_dialog_cancel")});l.ageConfirmationDialog.subscribe("confirm",function(){l.shouldShowAgeConfirmationDialog=!1,l.ageConfirmationDialog.hide(),l._logAction("birthday_age_dialog_confirm"),l.submitForm()});l.ageConfirmationDialog.subscribe("cancel",function(){l._logAction("birthday_age_dialog_cancel")});e=l._getBirthdaySelectors();if(!e)return;b("Event").listen(e.day,"focus",function(){l.shouldShowConfirmationDialog=!1});b("Event").listen(e.month,"focus",function(){l.shouldShowConfirmationDialog=!1});b("Event").listen(e.year,"focus",function(){l.shouldShowConfirmationDialog=!1})},_getDomainsPopoverMenu:function(a){a=new(b("Popover"))(a,a,[],{});var c=new(b("Menu"))([],{theme:b("DomainDropdownTheme")});return new(b("PopoverMenu"))(a,b("DOM").create("div",{className:"hidden_elem","aria-hidden":"true"}),c,[])},_getTopEmailsSuggestListener:function(a,c){var d=new(b("DomainSearchSource"))(c),e=l._getDomainsPopoverMenu(a);b("Event").listen(a,"keydown",function(a){b("Event").getKeyCode(a)===b("Keys").TAB&&e.getPopover().hideLayer()});var f="",g=[];e.getPopover().subscribe("show",function(){l.emailDropdownShown||(l._logAction("step_domains_dropdown_shown"),l.emailDropdownShown=!0,a.setAttribute("data-pseudo-focused","true")),b("CSS").addClass(a,"_14f2")});e.getPopover().subscribe("hide",function(){return b("setTimeout")(function(){l.emailDropdownShown&&(l.emailDropdownShown=!1,b("CSS").removeClass(a,"_14f2"),a.removeAttribute("data-pseudo-focused"),b("Event").fire(a,"change"),b("getActiveElement")()!==a&&b("Event").fire(a,"blur"))},0)});var h=function(a){a=b("Event").getKeyCode(a);if(a===b("Keys").ESC)return;g.length>0?(e.getPopover().showLayer(),l.emailDropdownShown=!0,l.noReEnterNeeded=!1,a===b("Keys").DOWN&&e.getMenu().focusAnItem()):e.getPopover().hideLayer()};return function(c){if(c.target instanceof HTMLInputElement){if(c.target.value===f){h(c);return}d.search(c.target.value,function(d){d=d.filter(function(b){return b.getTitle()!==a.value});var i=new(b("Menu"))(d.map(function(a){return{ctor:b("MenuItem"),label:a.getTitle(),"data-value":a.getTitle(),selected:!1,title:"",onclick:function(){return!1}}}),{theme:b("DomainDropdownTheme")});e.setMenu(i);i.subscribe("itemclick",function(c,d){c=d.item;l.noReEnterNeeded=l.noReEnterOnSuggestion;a.value=c._data["data-value"];l._logAction("step_domains_dropdown_selected",new Map([["cp",a.value.split("@").map(function(a,b){return b===0?a.length:a}).join("@")]]));b("Focus").set(a)});c.target instanceof HTMLInputElement&&(f=c.target.value);g=d;h(c)})}}},_getConfirmFieldTypeChangeListener:function(){var a=new(b("Animation"))(l.confirmComponent),c=/^(.+)@(.+)\.(.+)$/;b("Style").set(l.confirmComponent,"opacity",1e-5);return function(d){return b("setTimeout")(function(){if(l.emailDropdownShown)return;d.target instanceof HTMLInputElement&&c.test(d.target.value)?!l.noReEnterNeeded&&!l.hideReEnterOnEmail&&!l.confirmContactpointShown&&(l.confirmContactpointShown=!0,l._showWithAnimation(a,l.confirmComponent)):l.confirmContactpointShown&&(l.confirmContactpointShown=!1,l._hideWithAnimation(a,l.confirmComponent))},0)}},_showWithAnimation:function(a,c){a.stop().show().duration(100).checkpoint().to("opacity",1).ease(b("Animation").ease.end).duration(200).ondone(function(){b("CSS").addClass(c,"_5-ah")}).go()},_hideWithAnimation:function(a,c){b("CSS").removeClass(c,"_5-ah"),a.stop().to("opacity",1e-5).duration(200).ease(b("Animation").ease.end).checkpoint().duration(100).hide().go()},fieldFocusListener:function(a){a=document.getElementById(b("RegistrationClientConfig").tooltips[a]);b("Style").set(a,"visibility","visible");b("Style").set(a,"opacity","1")},fieldBlurListener:function(a){a=document.getElementById(b("RegistrationClientConfig").tooltips[a]);b("Style").set(a,"visibility","hidden");b("Style").set(a,"opacity","0")},didAttemptFormSubmit:function(){b("DeferredCookie").flushAllCookiesWithoutRecordingConsentDONOTCALLBEFORECONSENT(),l.hasClickedSubmit=!0,l.validateForm()},validateForm:function(){var a=l.childValidators.map(function(a){return a.runAllValidations()});b("promiseDone")((j||(j=b("Promise"))).all(a),function(){return l.submitForm()},function(){var a=new(b("RegistrationValidatorsResult"))();for(var c=0;c<l.childValidators.length;++c){var d=l.childValidators[c];a.addValidation(d)}l._maybeAttemptLogin(a);if(a.hasInvalidValidator()){a.isBirthdayFieldValid()||(l.birthdayErrorCount+=1,l.birthdayErrorCount===2&&l._toggleAgeOnly());d=a.getFirstInvalidValidator();d==null?void 0:d.focusField()}})},_maybeAttemptLogin:function(a){var c=b("DOM").scry(l.emailComponent,"input");if(l._isAnyArrayEmptyOrNull(c))return;var d=c[0];if(!l._shouldExposeLoginWithOnlyCredentials(a,d.value))return;c=b("DOM").scry(l.confirmComponent,"input");a=b("DOM").scry(l.passwordComponent,"input");if(l._isAnyArrayEmptyOrNull(c,a))return;var e=c[0],f=a[0];b("DeferredCookie").flushAllCookiesWithoutRecordingConsentDONOTCALLBEFORECONSENT();c=b("FBBrowserPasswordEncryption");var g=Math.floor(Date.now()/1e3).toString();(window.crypto||window.msCrypto)&&l.pubKey?b("promiseDone")(c.encryptPassword(l.pubKey.keyId,l.pubKey.publicKey,f.value,g),function(a){l._makeRequestWithPassword(a,d.value,e.value)},function(a){var c="#PWD_BROWSER",h=5,i=b("LoginServicePasswordEncryptDecryptEventTypedLogger");new i().setError("BrowserEncryptionFailureRegistrationLoginWWW").setErrorMessage(a.message).setGrowthFlow("www_reg").setPasswordTag(c).setPasswordEncryptionVersion(h).setPasswordTimestamp(g).logVital();l._makeRequestWithPassword(f.value,d.value,e.value)}):l._makeRequestWithPassword(f.value,d.value,e.value)},_makeRequestWithPassword:function(a,c,d){c=b("XRegistrationAttemptLoginController").getURIBuilder().setString(b("RegistrationClientConfig").fields.EMAIL,c).setString(b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION,d).setString(b("RegistrationClientConfig").fields.PASSWORD,a).getURI();new(b("AsyncRequest"))().setURI(c).send()},_isAnyArrayEmptyOrNull:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++){var e=b[d];if(e===null||e.length===0)return!0}return!1},_shouldExposeLoginWithOnlyCredentials:function(a,b){if(!a.isPasswordFieldValid())return!1;if(a.isEmailFieldValid())return!0;b=b===null||b.trim()==="";return a.isEmailConfirmationFieldValid()&&b},_removeFromIgnore:function(a,b){a=a?a.split("|"):[];return a.filter(function(a){return a!==b}).join("|")},_addToIgnore:function(a,b){a=a?a.split("|"):[];return a.filter(function(a){return a!==b}).concat(b).join("|")},_getBirthdaySelectors:function(){var a=b("DOM").scry(l.regForm,"select"),c=a.find(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_DAY}),d=a.find(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_MONTH});a=a.find(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_YEAR});if(!c||!d||!a){l.shouldShowConfirmationDialog=!1;return null}return{day:c,month:d,year:a}},_maybeShowBirthdayConfirmationDialog:function(){if(!l.shouldShowConfirmationDialog){l.blockSubmitForm=!1;return}var a=l._getBirthdaySelectors();if(!a){l.blockSubmitForm=!1;return}if(a.day.value!==l.prefilledBirthday.day||a.month.value!==l.prefilledBirthday.month||a.year.value!==l.prefilledBirthday.year){l.blockSubmitForm=!1;return}l.blockSubmitForm=!0;l.birthdayConfirmationDialog.show();l._logAction("birthday_dialog_shown")},_maybeShowAgeConfirmationDialog:function(a){if(!l.shouldShowAgeConfirmationDialog){l.blockSubmitForm=!1;return}var c=b("DOM").scry(l.ageConfirmationDialog.getRoot(),"div").filter(function(a){return a.id==="birthday_age_confirmation_dialog_title"})[0];a=h._("You're setting your date of birth to {birthday}",[h._param("birthday",a)]);b("DOM").setContent(c,a);l.blockSubmitForm=!0;l.ageConfirmationDialog.show();l._logAction("birthday_age_dialog_shown")},_handleAgeOnlySubmit:function(){var a=l._getBirthdaySelectors(),c=b("DOM").scry(l.regForm,"input").filter(function(a){return a.name===b("RegistrationClientConfig").fields.BIRTHDAY_AGE});c=c[0].value;c=(parseInt(l.prefilledBirthday.year,10)-c).toString();var d=a.month.value==="0"?"1":a.month.value,e=a.day.value==="0"?"1":a.day.value,f=new Date(new Date().setHours(0,0,0,0)),g=new Date(f.getFullYear(),parseInt(d,10)-1,parseInt(e,10));f<g&&(c=parseInt(c,10)-1);a.year.value=c;a.month.value=d;a.day.value=e;return b("formatDate")(new Date(parseInt(c,10),parseInt(d,10)-1,parseInt(e,10)),"F j, Y")},_toggleAgeOnly:function(){var a=b("DOM").scry(l.regForm,"div").filter(function(a){return a.id==="birthday_wrapper"})[0],c=b("DOM").scry(l.regForm,"div").filter(function(a){return a.id==="birthday_age"})[0];l.inAgeFlow?(b("CSS").hide(c),b("CSS").show(a)):(b("CSS").hide(a),b("CSS").show(c),l._logAction("birthday_age_to_birthday_link_clicked"));l.inAgeFlow=!l.inAgeFlow;l.birthdayErrorCount=0},_setDidUseAgeInput:function(a){var c=b("DOM").scry(l.regForm,"input").filter(function(a){return a.name==="did_use_age"});c.length!==0&&(c[0].value=a)},submitForm:function(){l._setDidUseAgeInput(l.inAgeFlow);var a=b("Form").serialize(l.regForm);l.hideValidationError();a.sex==="-1"&&(a.use_custom_gender="true",a.sex=a.preferred_pronoun);!l.captchaPaneShown?a.ignore=l._addToIgnore(a.ignore,"captcha"):l.disableMarketingButton(l.captchaRegButton);!l.confirmContactpointShown?a.ignore=l._addToIgnore(a.ignore,b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION):a.ignore=l._removeFromIgnore(a.ignore,b("RegistrationClientConfig").fields.EMAIL_CONFIRMATION);(l._actionDialog||l._clickedDismiss)&&(a.action_dialog_shown=!0);l.errorField&&b("ge")(l.errorField)&&b("$")(l.errorField).setAttribute("title","");l.inAgeFlow?l._maybeShowAgeConfirmationDialog(l._handleAgeOnlySubmit()):l._maybeShowBirthdayConfirmationDialog();if(l.blockSubmitForm)return;b("CSS").show(l.asyncStatus);b("CSS").show(l.captchaAsyncStatus);l._disableActionDialog();l.disableMarketingButton(l.regButton);l.regFormSubmitStateFlag=!0;new(b("AsyncRequest"))().setURI(l.submitFormURI).setData(a).setHandler(l.responseCallback.bind(l)).setErrorHandler(l.handleErrorResponse.bind(l)).send();a=b("$")(k);a instanceof HTMLInputElement&&(a.value=String(parseInt(a.value,10)+1))},disableMarketingButton:function(a){a.disabled=!0,b("CSS").addClass(a,"_67u")},enableMarketingButton:function(a){a.disabled=!1,b("CSS").removeClass(a,"_67u")},handleErrorResponse:function(){b("CSS").hide(l.asyncStatus),b("CSS").hide(l.captchaAsyncStatus),l._actionDialog&&l._actionDialog.hide(),l.enableMarketingButton(l.regButton),l.regFormSubmitStateFlag=!1,l.fadeInValidationError()},handleResponse:function(a){b("CSS").hide(l.asyncStatus);b("CSS").hide(l.captchaAsyncStatus);a=a.getPayload();l._handlePayload(a)},_handlePayload:function(a){if(a.redirect){var c=a.redirect;a.softblock&&(a.redirect.contains("?")?c=a.redirect+"&ty=tytrue":c=a.redirect+"?ty=tytrue");b("CSS").show(l.captchaAsyncStatus);b("goURI")(c,!0)}else if(a.field_validation_succeeded)l.handleFieldValidationSucceeded();else if(a.action_dialog_redirect)b("CSS").show(l.asyncStatus),b("CSS").show(l.captchaAsyncStatus),b("goURI")(a.action_dialog_redirect,!0);else if(a.email_claiming_skip_to_recovery)b("CSS").show(l.asyncStatus),b("CSS").show(l.captchaAsyncStatus);else{l.enableMarketingButton(l.regButton);if(a.bad_captcha)l.regFormSubmitStateFlag=!1,l.handleBadCaptcha(a);else if(a.tooyoung)l.regFormSubmitStateFlag=!1,l.handleTooYoung(a);else if(a.tos_error)l.regFormSubmitStateFlag=!1,l.handleTOSError(a);else if(a.ask_to_login_instead){c=b("ge")("email");c&&(c.value=a.ask_to_login_instead);c=b("ge")("asked_to_login");c&&(c.value=1)}else a.show_action_dialog||(l.regFormSubmitStateFlag=!1,l.handleValidationError(a))}},handleValidationError:function(a){a.password_meter_hint&&l.enablePasswordMeterValidator();if(l.errorMessageNewDesign)for(var b=0;b<a.error_fields.length;b++){var c=a.error_fields[b],d=a.error_messages[b];l.showErrorMessage(c,d)}else l.showValidationError(a.field,a.error)},showErrorMessage:function(a,c){var d,e;b("CSS").addClass(b("$")("reg_box"),"_1pc-");if(a==="firstname"||a==="lastname")d=b("ge")("fullname_field"),e=b("ge")("fullname_error_msg",d);else{a==="reg_passwd__"?d=b("ge")("password_field"):a==="birthday_wrapper"&&(d=document.getElementsByClassName("_58mq")[0]);e=(a=d)==null?void 0:a.getElementsByClassName("_1pc_")[0]}a=b("DOM").create("div",{className:"_1pd0"},c);b("DOM").setContent(e,a);b("CSS").addClass(a,"_1pd0");a=(c=e)==null?void 0:c.parentElement;a&&(b("CSS").addClass(a,"_5634"),b("CSS").addClass(a,"_1pd1"))},handleBadCaptcha:function(a){l.enableMarketingButton(l.captchaRegButton),b("DOM").setContent(b("$")("outer_captcha_box"),a.xhp),l.showCaptchaPane(),l.showValidationError("captcha_response",a.error)},handleFieldValidationSucceeded:function(){l.hideValidationError(),l.showCaptchaPane()},handleTooYoung:function(a){b("DOM").setContent(l.regForm,a.xhp)},handleTOSError:function(a){l.showCaptchaPane(),l.enableMarketingButton(l.captchaRegButton),l.showValidationError("captcha_response",a.error)},showActionDialog:function(a,c,d,e,f,g){l._actionDialog=a,l._actionDialogRegisterButton=c,l._actionDialogDisabledRegisterButton=d,l._actionDialogRecoverButton=e,l._actionDialogDisabledRecoverButton=f,l._actionDialogCloseButton=g,l._clickedDismiss=!1,b("Event").listen(l._actionDialogRegisterButton,"click",l._actionDialogOnClickRegisterButton.bind(l)),b("Event").listen(l._actionDialogRecoverButton,"click",l._actionDialogOnClickRecoverButton.bind(l)),b("Event").listen(l._actionDialogCloseButton,"click",l._actionDialogOnClickCloseButton.bind(l)),a.subscribe("hide",l.hideActionDialog.bind(l)),a.subscribe("button",l.didAttemptFormSubmit.bind(l)),a.show()},_actionDialogOnClickRegisterButton:function(){l._disableActionDialog(),new(b("GrowthSUMAEventsTypedLogger"))().setRegInstance(l.getRegInstance()).setEvent("suma_check_click_create_account").log()},_actionDialogOnClickRecoverButton:function(){l._disableActionDialog(),new(b("GrowthSUMAEventsTypedLogger"))().setRegInstance(l.getRegInstance()).setEvent("suma_check_click_find_account").log()},_actionDialogOnClickCloseButton:function(){l._clickedDismiss=!0,new(b("GrowthSUMAEventsTypedLogger"))().setRegInstance(l.getRegInstance()).setEvent("suma_check_click_dismiss").log(),l.didAttemptFormSubmit()},_disableActionDialog:function(){if(l._actionDialog!=null){var a;(a=b("CSS")).hide(l._actionDialogRegisterButton);a.show(l._actionDialogDisabledRegisterButton);a.hide(l._actionDialogRecoverButton);a.show(l._actionDialogDisabledRecoverButton)}l.regButton!=null&&l.disableMarketingButton(l.regButton)},hideActionDialog:function(){l._actionDialog=null,l._actionDialogRegisterButton=null,l._actionDialogDisabledRegisterButton=null,l._actionDialogRecoverButton=null,l._actionDialogDisabledRecoverButton=null},doEmailClaimingSkipToRecovery:function(a,c,d){var e="send_email";d||(e="send_sms");d={recover_method:e,selected_cuid:a,ctx:"reg_email_claim",redirect_to_full_page_on_captcha:"1",reg_instance:c};e=b("XRecoverInitiateAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(e).setReadOnly(!1).setMethod("POST").setData(d).setErrorHandler(l.handleSkipToRecoveryResponse.bind(l)).send()},handleSkipToRecoveryResponse:function(){b("CSS").hide(l.asyncStatus),b("CSS").hide(l.captchaAsyncStatus),l._actionDialog&&l._actionDialog.hide(),l.enableMarketingButton(l.regButton)},showCaptchaPane:function(){b("CSS").hide(b("$")("reg_form_box"));var a=b("$")("captcha");a=b("DataStore").get(a,"captcha-class","FacebookCaptcha");a=="ReCaptchaCaptcha"&&b("Recaptcha").createCaptcha();b("CSS").show(b("$")("reg_captcha"));b("CSS").show(l.tosContainerNode);l.regPagesMsgNode&&b("CSS").hide(l.regPagesMsgNode);b("CSS").show(l.captchaButtonsNode);try{b("ge")("captcha_response").focus()}catch(a){}l.captchaPaneShown=!0},hideCaptcha:function(){b("ge")("reg_captcha")&&b("CSS").hide(b("$")("reg_captcha")),b("CSS").hide(l.tosContainerNode),b("CSS").hide(l.captchaButtonsNode),l.hideValidationError(),l.captchaPaneShown=!1},enablePasswordMeterValidator:function(){for(var a=0;a<l.childValidators.length;++a){var c=l.childValidators[a];c instanceof b("PasswordMeterFieldValidator")&&c.enableValidator()}},showValidationError:function(a,c){l.regPagesMsgNode&&b("CSS").hide(l.regPagesMsgNode);l._actionDialog&&l._actionDialog.hide();l.hideValidationError();var d=b("$")("reg_error_inner");a=a;a||(a=b("ge")("name")?"name":"firstname");l.errorField=a;try{a=b("$")(a);a.setAttribute("title",c.replace(/<.+?>/g,""));a instanceof HTMLElement&&a.focus()}catch(a){}b("DOM").setContent(d,b("HTML")(c));l.fadeInValidationError()},fadeInValidationError:function(){var a=b("$")("reg_error");b("Style").set(a,"opacity",0);new(b("Animation"))(a).show().to("height","auto").duration(100).checkpoint().from("opacity",0).to("opacity",1).duration(400).go();a instanceof HTMLElement&&b("Focus").set(a)},hideValidationError:function(){b("CSS").shown(b("$")("reg_error"))&&b("Style").getOpacity(b("$")("reg_error"))>0&&b("CSS").hide(b("$")("reg_error")),l.hideSoftBlockError()},fadeInSoftblockError:function(){var a=b("$")("softblock_error");b("Style").set(a,"opacity",0);new(b("Animation"))(a).show().to("height","auto").duration(100).checkpoint().from("opacity",0).to("opacity",1).duration(400).go();a instanceof HTMLElement&&b("Focus").set(a)},hideSoftBlockError:function(){b("CSS").shown(b("$")("softblock_error"))&&b("Style").getOpacity(b("$")("softblock_error"))>0&&b("CSS").hide(b("$")("softblock_error"))},showRegistrationPane:function(){b("CSS").show(b("$")("reg_form_box")),l.regPagesMsgNode&&b("CSS").show(l.regPagesMsgNode)},logFormFocus:function(){if(l.hasLoggedFocus)return;var a=l.logFocusName,c=l.regForm.reg_instance&&l.regForm.reg_instance.value;b("RegistrationLogger").logFormFocus(a,c,l.getRegImpressionID());l.hasLoggedFocus=!0;l.focusListeners.forEach(function(a){a.remove()});l.focusListeners=[]},_logAction:function(a,c){var d=l.regForm.reg_instance&&l.regForm.reg_instance.value;b("RegistrationLogger").logFormFocus(a,d,l.getRegImpressionID(),c)},getField:function(a){l.regForm||i(0,6255,a);return l.regForm[a]},getRegInstance:function(){var a=l.getField("reg_instance");return a&&a.value},getRegImpressionID:function(){var a=l.getField("ri");return a&&a.value},enrollChildValidator:function(a){l.childValidators=l.childValidators||[],l.childValidators.push(a),a.addListener&&(a.addListener("show",function(a){this.shownFlyout&&this.shownFlyout.hide(),a.show(),this.shownFlyout=a},l),a.addListener("hide",function(a){a.hide()},l),l.debouncedSaveRegState!=null&&a.addListener("validated",l.debouncedSaveRegState))},saveRegState:function(){if(l.persistURI==null)return;var a={},c=b("Form").serialize(l.regForm),d=new Set([].concat.apply([],l.childValidators.filter(function(a){return!a.isValid}).map(function(a){return a.field.name?[a.field.name]:a.inputs&&a.inputs.map(function(a){return a.name})})));b("RegistrationClientConfig").persisted.forEach(function(b){c[b]&&!d.has(b)&&(a[b]=c[b])});var e=l._getBirthdaySelectors();e.day.value===l.prefilledBirthday.day&&e.month.value===l.prefilledBirthday.month&&e.year.value===l.prefilledBirthday.year&&(delete a[b("RegistrationClientConfig").fields.BIRTHDAY_DAY],delete a[b("RegistrationClientConfig").fields.BIRTHDAY_MONTH],delete a[b("RegistrationClientConfig").fields.BIRTHDAY_YEAR]);new(b("AsyncRequest"))().setURI(l.persistURI).setData(a).send()},showCanUseEmail:function(){var a=l.emailComponent.firstChild.firstChild,c=h._("Mobile number or email address"),d=l.confirmComponent.firstChild.firstChild,e=h._("Re-enter mobile number or email address");b("DOM").remove(l.noPhoneRegLink);b("StickyPlaceholderInput").setPlaceholderText(a,c.toString());b("StickyPlaceholderInput").setPlaceholderText(d,e.toString());l.allowEmailRegDialog!==null&&l.allowEmailRegDialog.show()},toggleCustomGender:function(a){var c=b("$")("custom_gender_container");(a==null?void 0:a.target)instanceof HTMLInputElement&&(a==null?void 0:(a=a.target)==null?void 0:a.value)==="-1"?b("CSS").show(c):b("CSS").hide(c)},initInformationLinkDialog:function(a,c){b("Event").listen(a,"click",c.show.bind(c))}};e.exports=l}),null);
__d("RegistrationFieldValidator",["csx","cx","invariant","CSS","ContextualDialog","ContextualDialogXUITheme","DOM","DOMQuery","Deferred","ErrorContextualDialogXUITheme","Event","EventEmitter","Focus","LayerAutoFocus","LayerRefocusOnHide","Parent","RegistrationController","RegistrationLogger","StepResult","getActiveElement","getOrCreateDOMID","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h){var i;i=a.call(this)||this;i.maybeShowPersistent=function(){b("CSS").conditionClass(i.wrapper,"_5634",!i.isFocused()&&!i.isValid)};i.maybeShowErrorMessage=function(){if(i.validationType!=="inline_design")return;var a=null,c=i.wrapper.getElementsByClassName("_1pc_");c.length>=1&&(a=c[0]);if(!a)return;b("DOM").setContent(a,i.errMsg);b("CSS").conditionClass(i.wrapper,"_5634",!i.isValid);b("CSS").conditionClass(i.wrapper,"_1pd1",!i.isValid);b("CSS").conditionClass(i.wrapper,"_32nt",i.isValid)};i.maybeDismissFlyout=function(){i.isValid&&(i.dismissFlyout(),i.field.removeAttribute("aria-invalid"),i.field.removeAttribute("aria-describedby")),i.validationType==="flyout_with_checkmark"&&b("CSS").conditionClass(i.wrapper,"_32nt",i.isValid)};i.wrapper=c;i.field=d;i.position=e;i.fieldType=f;i.inputs=g;i.validationType=h;i.flyout=null;i.hintFlyout=null;i.steps=[];i.stepContexts=[];i.stepMarkups=[];i.stepLoggingTypes=[];i.stepResults=[];i.stepArgs=[];i.isValid=!0;i.errMsg=null;i.hintFlyoutSeen=!1;i.stepCounter=null;i.stepProgress=null;b("RegistrationController").enrollChildValidator(babelHelpers.assertThisInitialized(i));i.addListener("validated",i.maybeShowPersistent,babelHelpers.assertThisInitialized(i));i.addListener("validated",i.maybeShowErrorMessage,babelHelpers.assertThisInitialized(i));i.addListener("validated",i.maybeDismissFlyout,babelHelpers.assertThisInitialized(i));i.setupListenersForField();i.setupListenersForFeedbackIcon("._5dbc");i.setupListenersForFeedbackIcon("._5dbd");return i}var d=c.prototype;d.setupListenersForField=function(){var a=this,c;(c=b("Event")).listen(this.field,"focus",this.dismissPersistent.bind(this));c.listen(this.field,"focus",this.maybeShowFlyout.bind(this));c.listen(this.field,"blur",function(){return!a.isFocused()&&a.dismissFlyout()});c.listen(this.field,"blur",function(){return!a.isFocused()&&a.validateField(0,[])})};d.setupListenersForFeedbackIcon=function(a){a=b("DOMQuery").scry(this.wrapper,a);for(var c=0;c<a.length;c++)b("Event").listen(a[c],"click",this.focusField.bind(this))};d.getField=function(){return this.field};d.getFieldName=function(){return this.field.name};d.getFlyoutContext=function(){return this.field};d.addValidationStep=function(a,c,d,e){this.stepMarkups.push(c),this.stepLoggingTypes.push(a),this.steps.push(d),this.stepResults.push(b("StepResult").NOT_STARTED),this.stepContexts.push(e),this.stepArgs.push(Array.prototype.slice.call(arguments,4))};d.addHintFlyout=function(a){a=a.cloneNode(!0);this.hintFlyout==null?this.hintFlyout=new(b("ContextualDialog"))({context:this.getFlyoutContext(),position:this.position,theme:b("ContextualDialogXUITheme")},a).disableBehavior(b("LayerAutoFocus")).disableBehavior(b("LayerRefocusOnHide")):this.hintFlyout.setContent(a)};d.validateField=function(a,c){var d=this;if(this.stepCounter===null&&a===0)this.stepProgress===null||i(0,1679),this.errMsg=null,this.stepCounter=0,this.stepProgress=new(b("Deferred"))();else if(this.stepCounter!==null&&this.stepCounter+1===a)this.stepCounter=a;else return;0<=this.stepCounter||i(0,1680);this.stepCounter<=this.steps.length||i(0,1681);this.stepProgress!==null||i(0,1682);if(this.stepCounter<this.steps.length){a=this.stepCounter;if(c.indexOf(this.stepLoggingTypes[a])>=0)this.stepResults[a]=b("StepResult").SKIPPED,this.validateField(a+1,c);else{var e=this.steps[a].apply(this.stepContexts[a],[this.getField()].concat(this.stepArgs[a]));b("promiseDone")(e instanceof b("Deferred")?e.getPromise():e,function(){d.stepResults[a]=b("StepResult").SUCCESS,d.validateField(a+1,c)},function(){d.stepResults[a]=b("StepResult").FAILED,d.$RegistrationFieldValidator1()});this.errMsg=this.stepMarkups[this.stepCounter].cloneNode(!0)}}else this.isValid=!0,this.emit("validated",!0),this.stepProgress.resolve(),this.stepCounter=null,this.stepProgress=null};d.$RegistrationFieldValidator1=function(a){this.isValid=!1;a=this.stepMarkups[this.stepCounter].cloneNode(!0);var c=this.stepLoggingTypes[this.stepCounter];!this.flyout?this.flyout=new(b("ContextualDialog"))({context:this.getFlyoutContext(),position:this.position,theme:b("ErrorContextualDialogXUITheme")},a).disableBehavior(b("LayerAutoFocus")).disableBehavior(b("LayerRefocusOnHide")):this.flyout.setInnerContent(a);this.stepCounter=null;this.emit("validated",!1);this.stepProgress.reject();this.stepProgress=null;var d=b("RegistrationController").getRegInstance();b("RegistrationLogger").bumpInlineValidation(this.getFieldName(),c,d,b("RegistrationController").getRegImpressionID());this.field.setAttribute("aria-describedby",b("getOrCreateDOMID")(a))};d.runAllValidations=function(){this.validateField(0,[]);return this.stepProgress.getPromise()};d.isFocused=function(){return b("getActiveElement")()===this.field||!!this.field.getAttribute("data-pseudo-focused")};d.focusField=function(){b("Focus").set(this.field)};d.fieldIsValid=function(){return this.isValid};d.maybeShowFlyout=function(){this.validationType!=="inline_design"&&this.isFocused()&&(this.isValid?this.hintFlyout&&!this.hintFlyoutSeen&&(this.hintFlyoutSeen=!0,this.emit("show",this.hintFlyout)):(this.flyout||i(0,1683),this.emit("show",this.flyout),this.field.setAttribute("aria-invalid","true")))};d.dismissPersistent=function(){var a=b("Parent").bySelector(this.wrapper,"._1ixn");a&&b("CSS").removeClass(a,"_5634");b("CSS").removeClass(this.wrapper,"_5634")};d.dismissFlyout=function(){this.flyout&&this.emit("hide",this.flyout),this.hintFlyout&&this.emit("hide",this.hintFlyout)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("UsernameFormatToken",[],(function(a,b,c,d,e,f){a=Object.freeze({FIRST:"{first}",MIDDLE:"{middle}",LAST:"{last}"});f["default"]=a}),66);
__d("RegistrationGenderPronounWarning",["fbt","DOM","Event","RegistrationClientConfig","UsernameFormatToken"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k="",l="";function m(){if(!i)return;var a=j.replace(c("UsernameFormatToken").FIRST,k).replace(c("UsernameFormatToken").LAST,l).trim();a.length?a=h._("Others will see your pronoun as \"they\". For example, \"It's {name}'s birthday. Wish them a happy birthday!\"",[h._param("name",a)]):a=h._("Others will see your pronoun as \"they\". For example, \"It's their birthday. Wish them a happy birthday!\"");c("DOM").setContent(i,a)}function a(a,b){c("Event").listen(b,"input",function(){a===d("RegistrationClientConfig").fields.FIRSTNAME?k=b.value:a===d("RegistrationClientConfig").fields.LASTNAME&&(l=b.value),m()})}g.registerNameInput=a}),98);
__d("RegistrationMultipleInputValidator",["invariant","DOM","DataStore","Event","Focus","RegistrationClientConfig","RegistrationFieldValidator","getActiveElement","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f,g,i){var j;switch(g){case d("RegistrationClientConfig").validators.types.SELECTORS:j="select";break;case d("RegistrationClientConfig").validators.types.RADIO:j='input[type="radio"]';break;default:h(0,310,g)}var k=[],l=c("DOM").scry(e,j);k.push.apply(k,l);k.length===i||h(0,311,k.length,i);return a.call(this,b,e,f,g,k)||this}var e=b.prototype;e.setupListenersForField=function(){var a=this;this.inputs!=null||h(0,312);this.inputs.forEach(function(b){c("Event").listen(b,"focus",a.dismissPersistent.bind(a)),c("Event").listen(b,"focus",a.maybeShowFlyout.bind(a)),a.fieldType===d("RegistrationClientConfig").validators.types.RADIO?c("Event").listen(b,"click",function(){a.emit("fieldblur")}):c("Event").listen(b,"blur",function(){c("setTimeout")(function(){a.isFocused()||a.emit("fieldblur")},0)})});this.addListener("fieldblur",this.dismissFlyout,this);this.addListener("fieldblur",this.validateField.bind(this,0,[]))};e.getField=function(){return this.inputs};e.getFieldName=function(){return d("DataStore").get(this.field,"name")};e.getFlyoutContext=function(){return this.inputs[0]};e.isFocused=function(){var a=c("getActiveElement")();for(var b=0;b<this.inputs.length;b++)if(this.inputs[b]===a)return!0;return!1};e.focusField=function(){d("Focus").set(this.inputs[0])};return b}(c("RegistrationFieldValidator"));g["default"]=a}),98);
__d("XRegistrationValidateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/registration/validation/{type}/",{type:{type:"Enum",required:!0,enumType:1},contactpoint:{type:"String"},should_stop_sms:{type:"Bool",defaultValue:!1}})}),null);
__d("RegistrationInlineValidations",["invariant","AsyncRequest","DataStore","PasswordMeterFieldValidator","Promise","RegistrationClientConfig","RegistrationController","RegistrationFieldValidator","RegistrationMultipleInputValidator","XRegistrationValidateController","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return new(i||(i=b("Promise")))(function(b,c){!a.value||/^\s*$/.exec(a.value)?c():b()})}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("RegistrationController").confirmContactpointShown)return;yield j(a)});return l.apply(this,arguments)}function m(a){return new(i||(i=b("Promise")))(function(b,d){if(c("RegistrationController").inAgeFlow&&a[0].name.contains("birthday")){b();return}var e={},f={};for(var g=0;g<a.length;g++){var i=a[g];if(i.nodeName==="SELECT"){if(!i.value||i.value==="0"){d();return}}else i.nodeName==="INPUT"&&i.type==="radio"?(e[i.name]=!0,i.checked&&(f[i.name]=!0)):h(0,2838,i)}Object.keys(e).length===Object.keys(f).length?b():d()})}function n(a){return new(i||(i=b("Promise")))(function(b,d){if(c("RegistrationController").inAgeFlow){b();return}var e=a.find(function(a){return a.id==="month"}).value-1,f=a.find(function(a){return a.id==="day"}).value,g=a.find(function(a){return a.id==="year"}).value;if(g==0||e==-1||f==0){b();return}var h=new Date(new Date().setHours(0,0,0,0));h.setFullYear(h.getFullYear()-5);g=new Date(g,e,f,0,0,0,0);g>h?d():b()})}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("RegistrationController").inAgeFlow)return;var b=1905,d=5;a=a.value;b=new Date().getFullYear()-b;if(a===""||isNaN(a)||a<d||a>b)throw new Error()});return p.apply(this,arguments)}function q(a,e){return new(i||(i=b("Promise")))(function(b,f){function g(a){a=a.getPayload();a.valid===!0?b():f()}function h(a){b()}if(!c("RegistrationController").hasClickedSubmit){b();return}var i=c("XRegistrationValidateController").getURIBuilder().setEnum("type",d("RegistrationClientConfig").logging.types.CONTACTPOINT_INVALID).setString("contactpoint",a.value).setBool("should_stop_sms",e).getURI();new(c("AsyncRequest"))().setURI(i).setMethod("GET").setReadOnly(!0).setHandler(g).setErrorHandler(h).send()})}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!c("RegistrationController").confirmContactpointShown)return;yield q(a,b)});return s.apply(this,arguments)}function t(a){a=a.toLocaleLowerCase().replace(/ /g,"");var b=a.indexOf("@");if(b!==-1&&a.includes("gmail.com",b+1)){b=a.split("@");a=b.length===2?b[0].replace(/\./g,"").concat("@").concat(b[1]):a}return a}function u(a,d){return new(i||(i=b("Promise")))(function(b,e){var f=c("RegistrationController").getField(d);f instanceof HTMLInputElement&&t(f.value)===t(a.value)?b():e()})}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!c("RegistrationController").confirmContactpointShown)return;yield u(a,b)});return w.apply(this,arguments)}function x(a){var b=d("RegistrationClientConfig").logging.types.IS_EMPTY,c=d("RegistrationClientConfig").messages.INCORRECT_NAME;a.addValidationStep(b,c,j)}function y(a,b,c){var e=d("RegistrationClientConfig").logging.types.IS_EMPTY,f=d("RegistrationClientConfig").messages.INCORRECT_CONTACTPOINT;b===!0&&a.addHintFlyout(d("RegistrationClientConfig").hint_messages.CONTACTPOINT);a.addValidationStep(e,f,j);e=d("RegistrationClientConfig").logging.types.CONTACTPOINT_INVALID;f=d("RegistrationClientConfig").messages.INVALID_NUMBER_OR_EMAIL;c===!0&&(f=d("RegistrationClientConfig").messages.INVALID_EMAIL);a.addValidationStep(e,f,q)}function z(a){var b,c=(b=d("RegistrationClientConfig")).logging.types.IS_EMPTY,e=b.messages.INCORRECT_EMAIL_CONF;a.addValidationStep(c,e,k);c=b.logging.types.CONTACTPOINT_INVALID;e=b.messages.INVALID_EMAIL;a.addValidationStep(c,e,r);c=b.logging.types.CONTACTPOINT_MATCH;e=b.messages.EMAIL_RETYPE_DIFFERENT;b=b.fields.EMAIL;a.addValidationStep(c,e,v,null,b)}function A(a){var b=d("RegistrationClientConfig").logging.types.IS_EMPTY,c=d("RegistrationClientConfig").messages.PASSWORD_BLANK;a.addValidationStep(b,c,j)}function B(a){var b,c=(b=d("RegistrationClientConfig")).logging.types.IS_EMPTY,e=b.messages.INCOMPLETE_BIRTHDAY;a.addValidationStep(c,e,m);c=b.logging.types.SUPER_YOUNG_BIRTHDAY;e=b.messages.SUPER_YOUNG_BIRTHDAY;a.addValidationStep(c,e,n)}function C(a){var b=d("RegistrationClientConfig").logging.types.BIRTHDAY_INVALID,c=d("RegistrationClientConfig").messages.INVALID_AGE;a.addValidationStep(b,c,o)}function D(a){var b=d("RegistrationClientConfig").logging.types.IS_EMPTY,c=d("RegistrationClientConfig").messages.NO_GENDER;a.addValidationStep(b,c,m)}function E(a){var c=d("RegistrationClientConfig").logging.types.IS_EMPTY,e=d("RegistrationClientConfig").messages.NO_PRONOUN;a.addValidationStep(c,e,function(a){var c=document.getElementsByName("sex"),d=!1;for(c of Array.from(c))c instanceof HTMLInputElement&&c.value=="-1"&&c.checked&&(d=!0);return!d?new(i||(i=b("Promise")))(function(a,b){a()}):m(a)})}function a(a,b,e,f,g,i){g=null;var j=d("DataStore").get(b,"type");switch(j){case d("RegistrationClientConfig").validators.types.TEXT:g=new(c("RegistrationFieldValidator"))(a,b,e,null,null,f);break;case d("RegistrationClientConfig").validators.types.SELECTORS:var k=d("DataStore").get(b,"name"),l=null;k===d("RegistrationClientConfig").fields.BIRTHDAY_WRAPPER?l=3:k===d("RegistrationClientConfig").fields.GENDER_WRAPPER?l=1:k==="preferred_pronoun"?l=1:l=h(!1,"Unexpected name %s for SELECTORS",k);g=new(c("RegistrationMultipleInputValidator"))(a,b,e,j,l);break;case d("RegistrationClientConfig").validators.types.RADIO:k=(i==null?void 0:i.showCustomGender)==!0?3:2;g=new(c("RegistrationMultipleInputValidator"))(a,b,e,j,k);break;case d("RegistrationClientConfig").validators.types.PASSWORD:(i==null?void 0:i.showPasswordMeter)==!0?g=new(d("PasswordMeterFieldValidator").PasswordMeterFieldValidator)(a,b,e,j,null,f,i&&i.passwordMeterID!=null&&i.passwordMeterID!=""?i.passwordMeterID:"",i==null?void 0:i.minPasswordMeterStrength,i==null?void 0:i.passwordMeterHidden):g=new(c("RegistrationFieldValidator"))(a,b,e,null,null,f);break;default:h(0,2839)}switch(g.getFieldName()){case d("RegistrationClientConfig").fields.FIRSTNAME:case d("RegistrationClientConfig").fields.LASTNAME:x(g);break;case d("RegistrationClientConfig").fields.EMAIL:y(g,i==null?void 0:i.showHintFlyout,i==null?void 0:i.shouldStopSMS);break;case d("RegistrationClientConfig").fields.EMAIL_CONFIRMATION:z(g);break;case d("RegistrationClientConfig").fields.PASSWORD:A(g);break;case d("RegistrationClientConfig").fields.BIRTHDAY_WRAPPER:B(g);break;case d("RegistrationClientConfig").fields.BIRTHDAY_AGE:C(g);break;case d("RegistrationClientConfig").fields.GENDER_WRAPPER:D(g);break;case"preferred_pronoun":E(g);break;default:h(0,2840)}}g.register=a}),98);
__d("ReCaptchaIFrameHandler",["ReCaptchaConstants","ReCaptchaUtils","SecurePostMessage"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b,c){c===void 0&&(c=!1);a=document.getElementById(a);b=document.getElementById(b);if(a===null||!(b instanceof HTMLInputElement))return;i(a,b,c)}function i(a,b,c){c===void 0&&(c=!1);window.addEventListener("message",e);function e(e){var g=e.origin.match(/\w+\.\w{2,3}$/);if(g===null||g[0]!=="fbsbx.com")return;g=d("ReCaptchaUtils").toIFrameMessage(e.data);if(g==null)return;var h={height:a.scrollHeight};switch(g.type){case d("ReCaptchaConstants").ReCaptchaIFrameMessageTypes.RESIZE_IFRAME:h=g.size;break;case d("ReCaptchaConstants").ReCaptchaIFrameMessageTypes.CAPTCHA_EXPIRED:d("SecurePostMessage").sendMessageToSpecificOrigin(e.source,"CAPTCHA_EXPIRED",e.origin);break;case d("ReCaptchaConstants").ReCaptchaIFrameMessageTypes.CAPTCHA_SOLVED:d("SecurePostMessage").sendMessageToSpecificOrigin(e.source,"CAPTCHA_SOLVED",e.origin);b.value=g.token;c&&b.form&&b.form.submit();break;case d("ReCaptchaConstants").ReCaptchaIFrameMessageTypes.GET_ORIGIN:d("SecurePostMessage").sendMessageToSpecificOrigin(e.source,{},e.origin);break;default:return}f(h)}function f(b){a.style.height=b.height+h+"px"}}g.init=a;g.initWithElement=i}),98);